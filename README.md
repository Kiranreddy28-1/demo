For the sake of making this micro application environment deployment repeatable, I have chosen to work with terraform to make the deployment, the cloud environment I used is AWS (Amazon Web Services). 
I have created a provider block with my IAM with my access key and secret key credentials as to crate the environment on my IAM user, then I wrote a terraform script for creating a VPC with a specific region and from that VPC id I have created 3 subnets to deploy which are one public subnet for the bastion host and two private subnets, which will be web and application subnets.
Then I created a instance resource to sit on the bastion subnet and which will act as the bastion host and in the bastion instance security group port 22 I allowed access in ingress for only specific IP's so as to keep the server secure. and for the out bound connections I allowed SSH on port 22 to only the frontend and backend subnet IP's. I created an internet gateway and route table for the bastion subnet for the internet access.
Then I created an instance resource for web instance to sit on the web subnet and provided the resource block with user data to install httpd and curl on the startup, and in the web instance security group I allowed SSH into the instance on port 22 from only bastion host by providing the cidr block of bastion subnet in the port 22 ingress. I created a load balancer for the web instance subnet and made it accessible for port 443 only from internet and with an SSL certificate in place to allow only the specific connection and for that SSL certificate I generated a certificate using ACM (Amazon Certificate Manager) and provided that ID in the load balancer.
Then I created an instance resource for the application instance to sit on the application subnet and provided the resouce block with user data to install httpd and curl on startup and in the application instance security group I allowed connections only from the web ier only on port 80 and made sure that the web instance cannot connect to the application instance on port 443.
I made sure that there is no out bound traffic from any of the instances into the internet by providing egress in security blocks to only specific cidr blocks so as to contain the outbound traffic within.
To run the code useatom editor or visual studio code, then cd into the location of the folder where the terraform folder is and run the following commands:
terraform init
terraform plan
terraform apply
After the work on the environment is done and you no longer need the application, you can destroy the environment by the below command:
terraform destroy
